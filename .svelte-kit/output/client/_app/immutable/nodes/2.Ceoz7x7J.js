import"../chunks/DsnmJJEf.js";import{d as ut,o as ot,s as B}from"../chunks/zU8_tSpd.js";import{h as k,a as je,aR as vt,aS as ct,aT as ft,b as Ue,g as Ie,i as oe,j as qe,k as Pe,m as Q,U as dt,p as Ye,aU as Je,d as be,af as _t,F as _,aF as mt,c as ht,H as gt,s as De,f as pe,Z as bt,an as pt,aV as ve,aW as ce,X as Le,aN as xt,V as Oe,ak as Xe,ad as Nt,l as Ze,aX as At,aY as xe,q as Ge,a5 as Ke,aZ as Tt,aa as Et,a_ as wt,aj as It,a$ as St,Y as Mt,b0 as yt,b1 as Rt,b2 as kt,b3 as Ct,K as Dt,P as Be,Q as Fe,n as W,L as Lt,R as ne,v as m,O as p,M as se,t as z,N as Ot,x as d,y as He}from"../chunks/BkFCLO9E.js";import{i as Bt}from"../chunks/BPhsQgCv.js";let $e=!1;function Ft(){$e||($e=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const a of t.target.elements)a.__on_r?.()})},{capture:!0}))}function Ht(t,a,e){k&&je();var r=t,i=dt,c,l,v=null,I=vt()?ct:ft;function A(){c&&Ye(c),v!==null&&(v.lastChild.remove(),r.before(v),v=null),c=l}Ue(()=>{if(I(i,i=a())){var x=r,y=Pe();y&&(v=document.createDocumentFragment(),v.append(x=Ie())),l=oe(()=>e(x)),y?qe.add_callback(A):A()}}),k&&(r=Q)}function $t(t,a){return a}function Vt(t,a,e){for(var r=t.items,i=[],c=a.length,l=0;l<c;l++)wt(a[l].e,i,!0);var v=c>0&&i.length===0&&e!==null;if(v){var I=e.parentNode;It(I),I.append(e),r.clear(),F(t,a[0].prev,a[c-1].next)}St(i,()=>{for(var A=0;A<c;A++){var x=a[A];v||(r.delete(x.k),F(t,x.prev,x.next)),Ke(x.e,!v)}})}function Ne(t,a,e,r,i,c=null){var l=t,v={flags:a,items:new Map,first:null},I=(a&Je)!==0;if(I){var A=t;l=k?be(_t(A)):A.appendChild(Ie())}k&&je();var x=null,y=!1,R=new Map,H=mt(()=>{var T=e();return Nt(T)?T:T==null?[]:Xe(T)}),o,g;function h(){jt(g,o,v,R,l,i,a,r,e),c!==null&&(o.length===0?x?Ze(x):x=oe(()=>c(l)):x!==null&&Ye(x,()=>{x=null}))}Ue(()=>{g??=Mt,o=_(H);var T=o.length;if(y&&T===0)return;y=T===0;let E=!1;if(k){var C=ht(l)===gt;C!==(T===0)&&(l=De(),be(l),pe(!1),E=!0)}if(k){for(var D=null,N,n=0;n<T;n++){if(Q.nodeType===bt&&Q.data===pt){l=Q,E=!0,pe(!1);break}var f=o[n],w=r(f,n);N=Ee(Q,v,D,null,f,w,n,i,a,e),v.items.set(w,N),D=N}T>0&&be(De())}if(k)T===0&&c&&(x=oe(()=>c(l)));else if(Pe()){var U=new Set,q=qe;for(n=0;n<T;n+=1){f=o[n],w=r(f,n);var O=v.items.get(w)??R.get(w);O?(a&(ve|ce))!==0&&ze(O,f,n,a):(N=Ee(null,v,null,null,f,w,n,i,a,e,!0),R.set(w,N)),U.add(w)}for(const[L,V]of v.items)U.has(L)||q.skipped_effects.add(V.e);q.add_callback(h)}else h();E&&pe(!0),_(H)}),k&&(l=Q)}function jt(t,a,e,r,i,c,l,v,I){var A=(l&Tt)!==0,x=(l&(ve|ce))!==0,y=a.length,R=e.items,H=e.first,o=H,g,h=null,T,E=[],C=[],D,N,n,f;if(A)for(f=0;f<y;f+=1)D=a[f],N=v(D,f),n=R.get(N),n!==void 0&&(n.a?.measure(),(T??=new Set).add(n));for(f=0;f<y;f+=1){if(D=a[f],N=v(D,f),n=R.get(N),n===void 0){var w=r.get(N);if(w!==void 0){r.delete(N),R.set(N,w);var U=h?h.next:o;F(e,h,w),F(e,w,U),Ae(w,U,i),h=w}else{var q=o?o.e.nodes_start:i;h=Ee(q,e,h,h===null?e.first:h.next,D,N,f,c,l,I)}R.set(N,h),E=[],C=[],o=h.next;continue}if(x&&ze(n,D,f,l),(n.e.f&xe)!==0&&(Ze(n.e),A&&(n.a?.unfix(),(T??=new Set).delete(n))),n!==o){if(g!==void 0&&g.has(n)){if(E.length<C.length){var O=C[0],L;h=O.prev;var V=E[0],X=E[E.length-1];for(L=0;L<E.length;L+=1)Ae(E[L],O,i);for(L=0;L<C.length;L+=1)g.delete(C[L]);F(e,V.prev,X.next),F(e,h,V),F(e,X,O),o=O,h=X,f-=1,E=[],C=[]}else g.delete(n),Ae(n,o,i),F(e,n.prev,n.next),F(e,n,h===null?e.first:h.next),F(e,h,n),h=n;continue}for(E=[],C=[];o!==null&&o.k!==N;)(o.e.f&xe)===0&&(g??=new Set).add(o),C.push(o),o=o.next;if(o===null)continue;n=o}E.push(n),h=n,o=n.next}if(o!==null||g!==void 0){for(var $=g===void 0?[]:Xe(g);o!==null;)(o.e.f&xe)===0&&$.push(o),o=o.next;var Z=$.length;if(Z>0){var ee=(l&Je)!==0&&y===0?i:null;if(A){for(f=0;f<Z;f+=1)$[f].a?.measure();for(f=0;f<Z;f+=1)$[f].a?.fix()}Vt(e,$,ee)}}A&&Ge(()=>{if(T!==void 0)for(n of T)n.a?.apply()}),t.first=e.first&&e.first.e,t.last=h&&h.e;for(var ie of r.values())Ke(ie.e);r.clear()}function ze(t,a,e,r){(r&ve)!==0&&Le(t.v,a),(r&ce)!==0?Le(t.i,e):t.i=e}function Ee(t,a,e,r,i,c,l,v,I,A,x){var y=(I&ve)!==0,R=(I&At)===0,H=y?R?xt(i,!1,!1):Oe(i):i,o=(I&ce)===0?l:Oe(l),g={i:o,v:H,k:c,a:null,e:null,prev:e,next:r};try{if(t===null){var h=document.createDocumentFragment();h.append(t=Ie())}return g.e=oe(()=>v(t,H,o,A),k),g.e.prev=e&&e.e,g.e.next=r&&r.e,e===null?x||(a.first=g):(e.next=g,e.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Ae(t,a,e){for(var r=t.next?t.next.e.nodes_start:e,i=a?a.e.nodes_start:e,c=t.e.nodes_start;c!==null&&c!==r;){var l=Et(c);i.before(c),c=l}}function F(t,a,e){a===null?t.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function Qe(t){var a,e,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(e=Qe(t[a]))&&(r&&(r+=" "),r+=e)}else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ut(){for(var t,a,e=0,r="",i=arguments.length;e<i;e++)(t=arguments[e])&&(a=Qe(t))&&(r&&(r+=" "),r+=a);return r}function qt(t){return typeof t=="object"?Ut(t):t??""}function Pt(t,a,e){var r=t==null?"":""+t;return r=r?r+" "+a:a,r===""?null:r}function Te(t,a,e,r,i,c){var l=t.__className;if(k||l!==e||l===void 0){var v=Pt(e,r);(!k||v!==t.getAttribute("class"))&&(v==null?t.removeAttribute("class"):t.className=v),t.__className=e}return c}const Yt=Symbol("is custom element"),Jt=Symbol("is html");function Xt(t){if(k){var a=!1,e=()=>{if(!a){if(a=!0,t.hasAttribute("value")){var r=t.value;we(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var i=t.checked;we(t,"checked",null),t.checked=i}}};t.__on_r=e,Ge(e),Ft()}}function Zt(t,a){var e=We(t);e.value===(e.value=a??void 0)||t.value===a&&(a!==0||t.nodeName!=="PROGRESS")||(t.value=a??"")}function we(t,a,e,r){var i=We(t);k&&(i[a]=t.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&t.nodeName==="LINK")||i[a]!==(i[a]=e)&&(a==="loading"&&(t[kt]=e),e==null?t.removeAttribute(a):typeof e!="string"&&Gt(t).includes(a)?t[a]=e:t.setAttribute(a,e))}function We(t){return t.__attributes??={[Yt]:t.nodeName.includes("-"),[Jt]:t.namespaceURI===yt}}var Ve=new Map;function Gt(t){var a=t.getAttribute("is")||t.nodeName,e=Ve.get(a);if(e)return e;Ve.set(a,e=[]);for(var r,i=t,c=Element.prototype;c!==i;){r=Ct(i);for(var l in r)r[l].set&&e.push(l);i=Rt(i)}return e}var Kt=(t,a)=>ne(a,!0),zt=(t,a)=>ne(a,!1),Qt=W("<td> </td>"),Wt=W('<tr class="hover svelte-1uha8ag"><th class="font-medium svelte-1uha8ag"> </th><td class="font-mono text-lg svelte-1uha8ag"> </td><!><td class="svelte-1uha8ag"><button class="btn btn-primary btn-outline btn-sm svelte-1uha8ag">view Details</button></td></tr>'),ea=W('<span title="Best of day" aria-label="Best of day" class="svelte-1uha8ag">ü•á</span>'),ta=W('<div class="bg-base-200 rounded p-3 flex justify-between items-center svelte-1uha8ag"><span class="font-mono text-lg flex items-center gap-2 svelte-1uha8ag"> <!></span> <span class="text-sm opacity-70 svelte-1uha8ag"></span></div>'),aa=(t,a,e)=>a[_(e).date]=t.currentTarget.value,ra=(t,a,e)=>a(_(e)),sa=W('<dialog class="modal svelte-1uha8ag"><div class="modal-box bg-base-100 text-base-content svelte-1uha8ag"><h3 class="font-bold text-lg mb-4 svelte-1uha8ag"> </h3> <div class="grid gap-2 mb-4 svelte-1uha8ag"></div> <div class="join w-full mb-2 svelte-1uha8ag"><input type="number" step="0.001" min="0" placeholder="Add lap (minutes)" class="input join-item w-full outline-none svelte-1uha8ag"/> <button class="btn btn-accent join-item svelte-1uha8ag">Add</button></div> <div class="bg-base-200 rounded-lg p-3 mb-4 svelte-1uha8ag"><div class="flex justify-between text-sm svelte-1uha8ag"><span class="svelte-1uha8ag">Best: <strong class="svelte-1uha8ag"> </strong></span> <span class="svelte-1uha8ag">Average: <strong class="svelte-1uha8ag"> </strong></span></div></div> <div class="modal-action svelte-1uha8ag"><form method="dialog" class="svelte-1uha8ag"><button class="btn btn-accent svelte-1uha8ag">Close</button></form></div></div></dialog>'),na=W('<div class="bg-primary text-primary-content p-6 mb-6 rounded-lg shadow-lg svelte-1uha8ag"><div class="text-center mb-4 svelte-1uha8ag"><h1 class="text-3xl font-bold mb-2 svelte-1uha8ag">üèä‚Äç‚ôÇÔ∏è Swim Tracker</h1></div> <div class="grid grid-cols-2 gap-4 mb-4 svelte-1uha8ag"><div class="bg-base-100 rounded-lg p-4 text-center border border-base-200 svelte-1uha8ag"><div class="text-base-content/70 text-sm svelte-1uha8ag">Recent Best</div> <div class="text-2xl font-bold text-base-content svelte-1uha8ag"> </div></div> <div class="bg-base-100 rounded-lg p-4 text-center border border-base-200 svelte-1uha8ag"><div class="text-base-content/70 text-sm svelte-1uha8ag">Recent Avg</div> <div class="text-2xl font-bold text-base-content svelte-1uha8ag"> </div></div></div></div> <div class="flex justify-center mb-4 svelte-1uha8ag"><div class="join svelte-1uha8ag"><button>Best Times</button> <button>Average Times</button></div></div> <div class="overflow-x-auto rounded-lg shadow-md bg-base-100 svelte-1uha8ag"><table class="table table-zebra svelte-1uha8ag"><thead class="bg-primary text-primary-content svelte-1uha8ag"><tr class="svelte-1uha8ag"><th class="svelte-1uha8ag">Date</th><th class="svelte-1uha8ag"> </th><th class="svelte-1uha8ag">Change</th><th class="svelte-1uha8ag">Actions</th></tr></thead><tbody class="svelte-1uha8ag"></tbody></table></div> <!>',1);function va(t,a){Dt(a,!0);let e=Be(Fe([])),r=Be(!0);const i=[{date:"10/6",times:[5.067,8.45,6.04,8.05,9.023]},{date:"10/5",times:[5.067,8.45,6.04,8.05,9.023]},{date:"10/4",times:[6.767,8.45,6.04,8.05,9.023]},{date:"10/3",times:[11.1,8.33,8.33,6.7,6.9]},{date:"10/2",times:[7.9,8.33,7.01,10.13,9.03,14.04]},{date:"10/1",times:[18.4,19.2,20.1,18.8,19.5]}];ot(()=>{const s=localStorage.getItem("swimRecords");s?ne(e,JSON.parse(s),!0):(ne(e,i,!0),localStorage.setItem("swimRecords",JSON.stringify(i)))});function c(s){return Math.min(...s)}function l(s){return s.reduce((u,b)=>u+b,0)/s.length}function v(s){const u=Number(s);return Number.isFinite(u)?u.toFixed(2)+"'":"‚Äî"}function I(s){const[u,b]=s.split("/").map(Number);return(u??0)*100+(b??0)}function A(s=7){return[..._(e)].sort((u,b)=>I(b.date)-I(u.date)).slice(0,s)}function x(){if(_(e).length===0)return 0;const s=A(7).flatMap(u=>u.times);return c(s)}function y(){if(_(e).length===0)return 0;const s=A(7).flatMap(u=>u.times);return l(s)}function R(s){return _(r)?c(s.times):l(s.times)}function H(){const s=[..._(e)].sort((b,S)=>I(S.date)-I(b.date)),u={};for(let b=0;b<s.length;b++){const S=s[b],M=s[b+1],P=R(S),j=M?R(M):null;u[S.date]=j==null?null:P-j}return u}function o(s){return H()[s.date]}function g(s){return s==null||Number.isNaN(s)?"‚Äî":(s>0?"+":"")+s.toFixed(2)+"'"}function h(s){return s==null||Number.isNaN(s)?"text-base-content/50":s<0?"text-success":s>0?"text-error":"text-base-content"}function T(s,u){const b=c(u);return Math.abs(s-b)<1e-6}let E=Fe({});function C(s){const u=E[s.date],b=Number(u);if(!Number.isFinite(b)||b<=0)return;const S=_(e).map(M=>M.date===s.date?{...M,times:[...M.times,b]}:M);ne(e,S,!0),localStorage.setItem("swimRecords",JSON.stringify(S)),E[s.date]=""}var D=na(),N=Lt(D),n=p(m(N),2),f=m(n),w=p(m(f),2),U=m(w,!0);d(w),d(f);var q=p(f,2),O=p(m(q),2),L=m(O,!0);d(O),d(q),d(n),d(N);var V=p(N,2),X=m(V),$=m(X);$.__click=[Kt,r];var Z=p($,2);Z.__click=[zt,r],d(X),d(V);var ee=p(V,2),ie=m(ee),fe=m(ie),Se=m(fe),Me=p(m(Se)),et=m(Me,!0);d(Me),He(2),d(Se),d(fe);var ye=p(fe);Ne(ye,23,()=>_(e),s=>s.date,(s,u,b)=>{var S=Wt(),M=m(S),P=m(M,!0);d(M);var j=p(M),te=m(j,!0);d(j);var G=p(j);Ht(G,()=>_(r),K=>{var J=Qt(),ae=m(J,!0);d(J),se((le,_e)=>{Te(J,1,le,"svelte-1uha8ag"),B(ae,_e)},[()=>qt(h(o(_(u)))),()=>g(o(_(u)))]),z(K,J)});var Y=p(G),de=m(Y);de.__click=()=>document.getElementById(`modal_${_(b)}`).showModal(),d(Y),d(S),se(K=>{B(P,_(u).date),B(te,K)},[()=>_(r)?v(c(_(u).times)):v(l(_(u).times))]),z(s,S)}),d(ye),d(ie),d(ee);var tt=p(ee,2);Ne(tt,19,()=>_(e),s=>s.date,(s,u,b)=>{var S=sa(),M=m(S),P=m(M),j=m(P);d(P);var te=p(P,2);Ne(te,21,()=>_(u).times,$t,(me,ue,rt)=>{var he=ta(),ge=m(he),Ce=m(ge),st=p(Ce);{var nt=re=>{var lt=ea();z(re,lt)};Bt(st,re=>{T(_(ue),_(u).times)&&re(nt)})}d(ge);var it=p(ge,2);it.textContent=`Lap ${rt+1}`,d(he),se(re=>B(Ce,`${re??""} `),[()=>v(_(ue))]),z(me,he)}),d(te);var G=p(te,2),Y=m(G);Xt(Y),Y.__input=[aa,E,u];var de=p(Y,2);de.__click=[ra,C,u],d(G);var K=p(G,2),J=m(K),ae=m(J),le=p(m(ae)),_e=m(le,!0);d(le),d(ae);var Re=p(ae,2),ke=p(m(Re)),at=m(ke,!0);d(ke),d(Re),d(J),d(K),He(2),d(M),d(S),se((me,ue)=>{we(S,"id",`modal_${_(b)??""}`),B(j,`üèä‚Äç‚ôÇÔ∏è Lap Times for ${_(u).date??""}`),Zt(Y,E[_(u).date]??""),B(_e,me),B(at,ue)},[()=>v(c(_(u).times)),()=>v(l(_(u).times))]),z(s,S)}),se((s,u)=>{B(U,s),B(L,u),Te($,1,`join-item btn btn-sm ${_(r)?"btn-primary":"btn-outline"}`,"svelte-1uha8ag"),Te(Z,1,`join-item btn btn-sm ${_(r)?"btn-outline":"btn-primary"}`,"svelte-1uha8ag"),B(et,_(r)?"Best Time":"Average Time")},[()=>v(x()),()=>v(y())]),z(t,D),Ot()}ut(["click","input"]);export{va as component};
